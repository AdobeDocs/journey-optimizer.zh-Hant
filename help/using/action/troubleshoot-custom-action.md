---
solution: Journey Optimizer
product: journey optimizer
title: 測試自訂動作
description: 瞭解如何疑難排解自訂動作
badge: label="有限可用性"
feature: Journeys, Actions, Custom Actions
topic: Administration
role: Data Engineer, Data Architect, Admin
level: Experienced
keywords: 動作，協力廠商，自訂，歷程， API
source-git-commit: 5ce76bd61a61e1ed5e896f8da224fc20fba74b53
workflow-type: tm+mt
source-wordcount: '457'
ht-degree: 2%

---


# 疑難排解自訂動作 {#troubleshoot-a-custom-action}

>[!AVAILABILITY]
>
>此功能僅適用於一組組織（可用性限制）。 若要取得存取權，請和您的 Adobe 代表聯絡。
>

## 概觀

**傳送測試要求**&#x200B;功能可讓系統管理員直接從Adobe Journey Optimizer (AJO)發出真正的API呼叫，以驗證其自訂動作設定。 此功能可確保請求結構、標頭、驗證和裝載的格式正確，然後才會用於歷程中。

![](assets/send-test-request.png){width="70%" align="left"}

## 先決條件

- **需要系統管理員存取權：**
   - 使用者必須擁有&#x200B;**「管理歷程事件、資料來源及動作」**&#x200B;許可權。
   - 此許可權包含在&#x200B;*歷程管理員*&#x200B;角色中。
   - **「檢視歷程事件……」**&#x200B;許可權本身是不夠的。
- **自訂動作**&#x200B;必須預先設定URL、標頭和驗證設定。

## 如何使用傳送測試要求功能

1. 瀏覽至&#x200B;**自訂動作**&#x200B;設定畫面。
1. 按一下&#x200B;**「傳送測試要求」**&#x200B;按鈕。
1. 隨即顯示一個快顯視窗，供您指定請求引數：
   - 如果&#x200B;**自訂動作方法是GET**，則不需要裝載。
   - 如果&#x200B;**自訂動作方法是POST**，您必須提供JSON裝載。

     >[!NOTE]
     >
     >如果此JSON的結構不正確，AJO會引發錯誤；但如果資料型別不相符，則不會引發。 例如，若將整數引數用於字串，則不會發生錯誤。

   - 如果已定義驗證，系統將提示您輸入驗證詳細資訊。

1. 按一下&#x200B;**傳送**&#x200B;以執行要求。
1. 來自API的回應（包括標題和狀態代碼）將顯示在介面中。

## 驗證處理

當自訂動作包含驗證時，AJO會要求使用者為每個測試請求輸入驗證詳細資訊：

- **基本驗證：**&#x200B;使用者必須提供&#x200B;*密碼*。
- **API金鑰驗證：**&#x200B;使用者必須輸入API金鑰&#x200B;*值*。
- **自訂驗證：**&#x200B;使用者必須在要求&#x200B;*bodyParam*&#x200B;中提供驗證引數。 在此案例中新增了兩個要完成的區段： **驗證要求**&#x200B;和&#x200B;**驗證回應**。

## 與外部測試工具(例如Postman)的主要差異

- 測試要求是由&#x200B;**AJO歷程**&#x200B;執行，表示：
   - 系統會使用確切的請求結構(包括AJO專屬的標頭)。
   - 來源IP和標題與即時歷程中使用的相符。
- 可用於疑難排解已部署自訂動作的&#x200B;**即時歷程**。
- 無須在工具之間手動複製設定詳細資訊，減少錯誤風險。

## 疑難排解

- 如果請求失敗，請確認：
   - 在測試中輸入的驗證認證。
   - 要求方法(GET與POST的比較)和對應的裝載。
   - 自訂動作中定義的API端點和標題。
- 使用回應資料來識別可能的設定錯誤。

此功能可簡化測試和驗證程式，確保自訂動作在即時AJO歷程中正常運作。

