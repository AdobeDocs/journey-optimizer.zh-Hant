---
solution: Journey Optimizer
product: journey optimizer
title: 常見問題集
description: 已上線活動常見問題集
topic: Content Management
role: User
level: Beginner
hide: true
hidefromtoc: true
source-git-commit: ce6bfca78d097588b5958c10c721b29b7013b3e2
workflow-type: tm+mt
source-wordcount: '1603'
ht-degree: 1%

---

# 常見問題 {#mobile-live-faq}

>[!BEGINSHADEBOX]

* [開始使用即時活動](get-started-mobile-live.md)
* [已上線活動設定](mobile-live-configuration.md)
* [與Adobe Experience Platform Mobile SDK的即時活動整合](mobile-live-configuration-sdk.md)
* [建立已上線活動](create-mobile-live.md)
* **[常見問題集](mobile-live-faq.md)**
* [即時活動行銷活動報告](../reports/campaign-global-report-cja-activity.md)

>[!ENDSHADEBOX]

## 一般問題

+++已上線活動和推播通知之間有何差異？

「上線活動」可提供「鎖定畫面」和「動態島」上的持續即時更新，使用者無須解除鎖定裝置。 推播通知是暫時性警報，在關閉後便會消失。 即時活動會維持可見，且可多次更新，直到明確結束為止。

+++

+++一次可以啟用多少個已上線活動？

iOS應用程式可同時執行多個上線活動，包括使用相同`ActivityAttributes`型別的多個上線活動。

開發人員對於特定屬性型別的已上線活動可以存在多少個沒有硬性限制。 例如，您可以視應用程式邏輯需求，針對每個持續傳遞或歷程啟動一次。 不過，iOS會針對一次可以作用中或可見的已上線活動數量實施系統層級限制。

實際操作中：

* iOS通常支援每個應用程式最多五個同時上線的活動。

* 如果超過此數目，系統可能會停止顯示某些活動，或終止較舊的活動以節省資源。

* 每個已上線活動都有唯一的`Activity.id`，可讓您個別更新或結束活動。

+++

+++使用者需要開啟應用程式才能接收即時活動更新嗎？

不可以。 即使應用程式完全關閉，您也可以從遠端開始、更新及結束已上線的活動，這是該功能的主要優點之一。

+++

+++哪些iOS版本支援上線活動？

* iOS 16.1+：基本上線活動支援
* iOS 17.2+：從遠端開始而不開啟應用程式的推播啟動功能
* iOS 18+：對受眾型直播活動的廣播頻道支援
+++

+++已上線活動可以維持作用中狀態多久？

Apple將已上線活動限製為&#x200B;**8小時的作用中更新**。 之後，系統會自動結束活動，不過在移除之前，它最多可能會再顯示&#x200B;**12小時**。 您也可以在應用程式中設定`dismissalDate`或明確呼叫`activity.end()`，以更快結束已上線的活動。

+++

### 開發人員問題

+++需要為「已上線」活動建立個別的Widget擴充功能嗎？

可以。已上線的活動是透過WidgetKit顯示，因此您需要在Xcode專案中建立Widget擴充功能並實作`ActivityConfiguration`。
[進一步瞭解Widget設定](mobile-live-configuration-sdk.md)

+++

+++我可以針對本機與遠端上線活動使用相同的`LiveActivityAttributes`類別嗎？

可以。相同的屬性類別適用於本機啟動和遠端啟動（推送至啟動）的已上線活動。 您必須確定向`Messaging.registerLiveActivity()`註冊。

+++

+++如果傳送不存在之已上線活動的更新時，會發生什麼情況？

如果您傳送不存在`liveActivityID`或`channelID`的更新或結束事件，要求將會在裝置上無訊息地失敗。 請一律確保您追蹤每個使用者使用中的已上線活動。

+++

+++我可以在iOS模擬器中測試已上線的活動嗎？

可以，您可以在iOS模擬器中測試本機啟動以及遠端啟動的即時活動。

* **本機**：這包括使用&#x200B;**ActivityKit API**&#x200B;直接從您的應用程式建立、更新及結束已上線活動。

* **遠端**：若要遠端測試即時活動功能，請將我們的傳訊SDK整合至您的應用程式，並使用提供的執行API傳送遠端啟動、更新及結束至您的測試裝置或iOS模擬器。 類似於目前使用Adobe SDK整合來測試推播通知的方式。

+++

+++應用程式於背景時如何處理更新？

SDK會自動處理這個問題。 註冊後，即使用中活動在應用程式終止時也會收到更新。 不需要其他背景模式。
+++

+++`liveActivityID`與`channelID`之間有何差異？

* `liveActivityID`：用於針對特定使用者的個別（單一）已上線活動。 每個ID都代表一個不重複的已上線活動例項。
* `channelID`：用於傳送給對象的廣播即時活動。 對象中的所有使用者都會在相同的頻道上接收相同的更新。
+++

+++我可以從「鎖定熒幕」獨立自訂Dynamic Island外觀嗎？

可以。`ActivityConfiguration`有鎖定畫面內容和Dynamic Island內容的個別封閉（擴充、精簡和最小狀態），每個設計都是獨立的。
+++

+++我需要手動儲存推播權杖嗎？

不可以。 當您向`Messaging.registerLiveActivity()`註冊即時活動型別時，SDK會自動收集和管理您的推播權杖。
+++

### 行銷人員問題

+++我可以在廣播行銷活動中為每個使用者個人化即時活動內容嗎？

廣播行銷活動會將相同的內容傳送給對象中的所有使用者。 針對個人化內容，使用以個別使用者為目標的單一（異動）行銷活動。
+++

+++如何知道我的即時活動是否成功傳遞？

在Adobe Journey Optimizer中[監視您的行銷活動分析](../reports/campaign-global-report-cja-activity.md)。 您可以追蹤傳遞率、失敗和參與量度。 您也可以考慮在應用程式中實作自訂分析事件。
+++

+++我可以預先排程已上線的活動嗎？

API呼叫會立即觸發上線活動。 不過，您可以透過後端系統排程API呼叫，或使用Journey Optimizer的協調功能適當地安排呼叫。
+++

+++如果我為已存在的已上線活動傳送「開始」事件，會發生什麼情況？

透過Adobe的執行API從遠端啟動即時活動時：

* 您可以在請求中包含`x-request-id`標頭。 理想情況下，每個`liveActivityID`與其對應的`x-request-id`之間應該有一對一的關係。 這可確保在採用相同`x-request-id`和`liveActivityID`組合提出多個請求時，裝置上只會啟動一個已上線活動，且會忽略重複請求。

* 如果省略`x-request-id`標頭，則會個別處理每個要求，而可能導致使用相同的`liveActivityID`建立多個已上線活動。 在這種情況下，未來的更新可能會失敗或只適用於其中一個使用中的執行個體。

* `x-request-id`值不應在個別的API要求中跨不同的`liveActivityIDs`重複使用。

+++

+++我可以使用A/B測試不同的即時活動體驗嗎？

可以。使用不同的內容結構建立多個行銷活動，並使用Adobe Journey Optimizer的實驗功能來測試哪些行銷活動表現更好。 確認您的應用程式支援所有內容狀態變數。

+++

+++我應多久更新一次已上線的活動？

只有在因為過於頻繁的更新而造成有意義的資訊變更時，才進行更新，這會消耗電池並降低使用者體驗品質。 對於即時情況（例如傳送追蹤），通常可以接受每30至60秒一次。 對於變更較慢的內容（例如運動分數），僅更新重大事件。

+++

+++我可以根據使用者是否已啟用已上線活動來鎖定使用者嗎？

您需要與開發團隊合作，以追蹤並傳遞此偏好設定作為使用者屬性給Adobe Experience Platform，然後根據該屬性進行分段。

+++

### API問題

+++`timestamp`與`dismissal-date`之間有何差異？

* `timestamp`：事件發生時的目前epoch時間，所有事件都需要。
* `dismissal-date`：即時活動應自動關閉的未來Epoch時間，只有「結束」事件才需要。

+++

+++我需要在每次更新呼叫中傳送所有`attributes`欄位嗎？

是，根據您`LiveActivityAttribute`類別。

* 您屬性物件中的所有欄位（包括`liveActivityData`）應包含在每個呼叫（開始、更新或結束）中。
* 只有`content-state`欄位代表實際在執行中之即時活動上的動態變更。
* 同時加入警示物件，可確保推送被視為使用者可見的通知，而非無訊息背景通知。 只有&#39;start&#39;案例才需要，否則為選用。

+++

+++Epoch時間戳記應該採用什麼格式？

使用&#x200B;**秒**&#x200B;的Unix紀元時間，而非毫秒。 例如︰`1759937682`

+++

+++我可以在多個API呼叫中使用相同的`requestId`嗎？

不可以。 每個API要求都應該有唯一的`requestId`，以確保同質性和適當的追蹤。 使用UUID或類似的唯一識別碼。

+++

+++Headless API需要什麼驗證？

如需驗證需求，包括OAuth權杖和API金鑰，請參閱[API觸發的行銷活動檔案](https://developer.adobe.com/journey-optimizer-apis/references/messaging/)。

+++

+++如果我的API呼叫失敗會發生什麼事？

使用指數輪詢實作重試邏輯。 檢查API回應中的錯誤代碼和訊息，以診斷問題。 常見失敗專案包括無效的行銷活動ID、格式錯誤的裝載或驗證問題。

+++

+++我可以從我自己的後端伺服器傳送即時活動更新嗎？

是的，這是預期行為。 當您的商業邏輯需要時，後端會呼叫Adobe Journey Optimizer Headless API以觸發「即時」活動事件。

+++

+++開始、更新和結束事件是否需要不同的行銷活動？

不可以。 您可以使用相同的行銷活動，並變更承載中的`event`欄位。 不過，有些組織偏好個別促銷活動，以獲得更好的分析追蹤。

+++

### 疑難排解問題

+++我的已上線活動開始但未更新。 可能有哪些問題？

常見原因：

* 開始和更新呼叫之間不相符的`liveActivityID`或`channelID`。
* `content-state`欄位不符合您的`ContentState`結構。
* 已上線的活動已結束。
* 裝置的網路連線問題。

+++

+++無法辨識`attributes-type`欄位。 我應檢查哪些專案？

* 確保類別名稱與您的Swift結構名稱完全符合&#x200B;**1} （區分大小寫）**
* 確認結構已正確定義並註冊
* 檢查JSON裝載中的拼寫錯誤
* 確認安裝的應用程式版本具有即時活動實作

+++

+++使用者只會看到即時活動更新，不會看到警報通知，這是已知問題嗎？

不可以。 `alert`欄位是選用欄位，在某些條件下（例如「請勿打擾」模式），可能會被iOS隱藏。 已上線的活動可以無訊息更新，這通常是預期的行為。 傳送遠端啟動時，必須填寫警示欄位，否則apple會將它視為無訊息背景通知。

+++

+++我可以刪除或清除使用者的所有已上線活動嗎？

您需要為每個使用中的上線活動傳送「結束」事件。 追蹤系統中每個使用者處於作用中狀態的已上線活動，以便您能夠正確地清理它們。

+++

+++即使我傳送了更新，我的Widget仍顯示「無資料」。 可能有哪些問題？

* 驗證您的Widget實作可正確存取`context.state`和`context.attributes`。
* 檢查是否在Widget介面中處理預設值或錯誤狀態。
* 使用`LiveActivityAssuranceDebuggable`通訊協定來偵錯結構描述。
* 使用Adobe Assurance進行測試，以檢視是否收到資料。
+++
